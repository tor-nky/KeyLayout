{"title":"新JIS配列",
"rules":[{
  "description":"新JIS配列+ローマ字入力",
  "manipulators":[
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"},{"set_variable":{"name":"last_char","value":0}}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},


    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"w"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":202},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":205}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":205},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":206}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":206},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"f"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":204}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":204},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":203}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":203},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"open_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"slash"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"quote"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"last_char","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"last_char","value":0}}],"type":"basic"},


    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"w"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":202},
          {"type":"variable_if","name":"shift_state","value":2},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}},
            {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":205}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":205},
          {"type":"variable_if","name":"shift_state","value":2},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}},
            {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_source_id":"Kotoeri.Japanese"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift","option"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":206}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":206},
          {"type":"variable_if","name":"shift_state","value":2},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}},
            {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"f"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":204}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":204},
          {"type":"variable_if","name":"shift_state","value":2},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}},
            {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":203}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":203},
          {"type":"variable_if","name":"shift_state","value":2},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}},
            {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"open_bracket"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_source_id":"Kotoeri.Japanese"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift","option"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"grave_accent_and_tilde","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"1","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"2","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"3","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"4","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"5","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"6","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"7","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"8","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"9","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"international1"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"0","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"backslash","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"international3","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"semicolon","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"quote"},
      {"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"last_char","value":0},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"last_char","value":0}},
      {"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},


    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"w"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":202}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":202},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"b"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":202},
          {"type":"variable_unless","name":"shift_state","value":0},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":205}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":205},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"b"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":205},
          {"type":"variable_unless","name":"shift_state","value":0},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":182}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":182},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"g"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":188}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":188},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"z"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":196}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":196},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"d"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":192}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":192},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"d"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":184}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":184},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"g"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":179}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":179},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"v"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":183}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":183},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"g"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_source_id":"Kotoeri.Japanese"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift","option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":191}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":191},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"z"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":185}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":185},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"g"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":206}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":206},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"b"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":206},
          {"type":"variable_unless","name":"shift_state","value":0},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":190}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":190},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"z"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"f"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":204}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":204},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"b"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":204},
          {"type":"variable_unless","name":"shift_state","value":0},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":195}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":195},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"d"},{"key_code":"e"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":203}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":203},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"b"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":203},
          {"type":"variable_unless","name":"shift_state","value":0},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"p"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":194}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":194},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"d"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"n"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"w"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"open_bracket"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":193}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":193},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"d"},{"key_code":"i"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_source_id":"Kotoeri.Japanese"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift","option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket","modifiers":["option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":189}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":189},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"z"},{"key_code":"u"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":186}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":186},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"g"},{"key_code":"o"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"i"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"n"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":187}}],"type":"basic"},
          {"conditions":[{"type":"variable_if","name":"last_char","value":187},
          {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
          {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
            "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
            "to":[{"key_code":"delete_or_backspace"},{"key_code":"z"},{"key_code":"a"},
            {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"y"},{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"a"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"m"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"},{"key_code":"t"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"o"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"u"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"comma"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"period"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"},{"key_code":"e"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},


    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"grave_accent_and_tilde","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"grave_accent_and_tilde"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"1","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"1"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"2","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"2","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"2"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"3","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"3"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"4","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"4","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"4"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"5","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"5","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"5"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"6","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"6","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"6"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"7","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"7","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"7"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"8","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"8","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"8"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"9","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"9","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"9"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"international1"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]}],
      "from":{"key_code":"0","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"international1"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"0","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"0"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"hyphen","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"backslash","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"backslash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"backslash"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"international3","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"from":{"key_code":"international3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"international3"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},


    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"slash","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"semicolon","modifiers":["shift"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash","modifiers":["option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"quote"},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash","modifiers":["option"]},
      {"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"last_char","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"last_char","value":0}}],"type":"basic"},

    {"conditions":[{"input_sources":[{"input_source_id":"Kotoeri"}],"type":"input_source_if"}],
      "from":{"key_code":"japanese_eisuu","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"l","modifiers":["control","shift"]}],"type":"basic"}
]},{
  "description":"新JIS配列+日本語IMかな入力 ※CapsLockオンで無効",
  "manipulators":[
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar"},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar"},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift"},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift"},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift"},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift"},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},


    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"e","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"e","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a"},
      "to":[{"key_code":"f"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"backslash"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"backslash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s"},
      "to":[{"key_code":"t"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"o"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"o"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d"},
      "to":[{"key_code":"d"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"8","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"8","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f"},
      "to":[{"key_code":"s"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g"},
      "to":[{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g"},
      "to":[{"key_code":"q"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"j"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"j"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h"},
      "to":[{"key_code":"h"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j"},
      "to":[{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j"},
      "to":[{"key_code":"4"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"m"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"m"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k"},
      "to":[{"key_code":"e"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l"},
      "to":[{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l"},
      "to":[{"key_code":"open_bracket"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l"},
      "to":[{"key_code":"open_bracket"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon"},
      "to":[{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon"},
      "to":[{"key_code":"g"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"open_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"open_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote"},
      "to":[{"key_code":"u"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"3","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"3","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q"},
      "to":[{"key_code":"c"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"key_code":"quote"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w"},
      "to":[{"key_code":"quote"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"hyphen"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"hyphen"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e"},
      "to":[{"key_code":"p"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"2"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"2"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r"},
      "to":[{"key_code":"w"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t"},
      "to":[{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t"},
      "to":[{"key_code":"9","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"v"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"v"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y"},
      "to":[{"key_code":"z"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u"},
      "to":[{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u"},
      "to":[{"key_code":"y"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"n"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"n"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i"},
      "to":[{"key_code":"k"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o"},
      "to":[{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o"},
      "to":[{"key_code":"0","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"1"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"1"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p"},
      "to":[{"key_code":"l"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket"},
      "to":[{"key_code":"a"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"4","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"4","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z"},
      "to":[{"key_code":"r"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"5","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"5","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x"},
      "to":[{"key_code":"b"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"6","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"6","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c"},
      "to":[{"key_code":"i"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v"},
      "to":[{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v"},
      "to":[{"key_code":"x"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"7","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"7","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b"},
      "to":[{"key_code":"3"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n"},
      "to":[{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n"},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n"},
      "to":[{"key_code":"z","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"quote","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"quote","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m"},
      "to":[{"key_code":"period"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"slash","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma"},
      "to":[{"key_code":"comma","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international3"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"international3"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period"},
      "to":[{"key_code":"period","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"slash"},
      "to":[{"key_code":"semicolon"}],"type":"basic"},


    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"grave_accent_and_tilde","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"grave_accent_and_tilde","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde"},
      "to":[{"key_code":"grave_accent_and_tilde","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"1"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"1","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"1","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1"},
      "to":[{"key_code":"1","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"2"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"2","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"2","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2"},
      "to":[{"key_code":"2","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"3"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"3","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"3","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3"},
      "to":[{"key_code":"3","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"4"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"4","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"4","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4"},
      "to":[{"key_code":"4","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"5"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"5","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"5","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5"},
      "to":[{"key_code":"5","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"6"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"6","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"6","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6"},
      "to":[{"key_code":"6","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"7"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"7","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"7","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7"},
      "to":[{"key_code":"7","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"8"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"8","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"8","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8"},
      "to":[{"key_code":"8","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"9"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"9","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"9","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9"},
      "to":[{"key_code":"9","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"0"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international1","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"international1","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]}],
      "from":{"key_code":"0","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"0"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"0","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"0","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0"},
      "to":[{"key_code":"0","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"hyphen"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"hyphen","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"hyphen","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen"},
      "to":[{"key_code":"hyphen","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"equal_sign"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign"},
      "to":[{"key_code":"equal_sign","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"equal_sign"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_plus","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"keypad_plus","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign"},
      "to":[{"key_code":"keypad_equal_sign","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international3"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international3","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"international3","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3"},
      "to":[{"key_code":"international3","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket"},
      "to":[{"key_code":"close_bracket","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"non_us_pound"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"non_us_pound"},
      "to":[{"key_code":"non_us_pound","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"backslash"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"backslash","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"backslash","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash"},
      "to":[{"key_code":"backslash","modifiers":["option"]}],"type":"basic"},


    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"slash","modifiers":["shift","option"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"quote","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international1"},
      "to":[{"key_code":"quote","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"quote","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1"},
      "to":[{"key_code":"slash","modifiers":["option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket"},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"semicolon","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["shift"]}},
      "to":[{"key_code":"semicolon","modifiers":["shift","option"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket"},
      "to":[{"key_code":"slash","modifiers":["option"]}],"type":"basic"},

    {"conditions":[{"input_sources":[{"input_source_id":"Kotoeri"}],"type":"input_source_if"}],
      "from":{"key_code":"japanese_eisuu","modifiers":{"mandatory":["shift"]}},
      "to":[{"key_code":"l","modifiers":["control","shift"]}],"type":"basic"}
]},{
  "description":"新JIS配列+かわせみ2",
  "manipulators":[
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"spacebar","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"key_code":"spacebar"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"left_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"left_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"right_shift","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}},{"key_code":"right_shift"}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},


    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"e","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"e","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"a","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"f"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"backslash"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"backslash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"backslash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"s","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"t"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"o"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"o"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"d","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"d"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"8","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"8","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"f","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"s"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"9"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"g","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"q"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"j"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"j"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"h","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"h"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"6"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"j","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"4"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"m"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"m"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"k","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"e"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"0"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"l","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"open_bracket"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"8"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"semicolon","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"g"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"open_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"open_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"quote","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"u"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"3","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"3","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"q","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"c"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"w","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"quote"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"hyphen"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"hyphen"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"e","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"p"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"2","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"2","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"r","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"w"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"slash"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"t","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"9","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"v"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"v"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"v"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"y","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"z"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"5"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"u","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"y"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"n"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"n"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"i","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"k"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"7"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"o","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"0","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"1","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"1","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"p","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"l"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"open_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"a"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"4","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"4","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"z","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"r"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"5","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"5","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"x","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"b"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"6","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"6","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"c","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"i"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"comma"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"v","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"x"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"7","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"7","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"},
    {"input_sources":[{"input_mode_id":"Code$"}],"type":"input_source_unless"}],
      "from":{"key_code":"b","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"keypad_period"},{"key_code":"delete_or_backspace"},{"key_code":"3"}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"n","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"z","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"quote","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"quote","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"m","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"period"}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"slash","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"comma","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"comma","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international3"}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"international3"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"period","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"period","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"semicolon"}],"type":"basic"},


    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"grave_accent_and_tilde","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_unless","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"grave_accent_and_tilde","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"grave_accent_and_tilde","modifiers":["shift"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"1","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"1","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"1","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"2","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"2","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"2","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"2","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"3","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"3","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"3","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"4","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"4","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"4","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"4","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"5","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"5","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"5","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"5","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"6","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"6","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"6","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"6","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"7","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"7","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"7","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"7","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"8","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"8","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"8","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"8","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"9","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"9","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"9","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"9","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international1","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"international1","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]}],
    "from":{"key_code":"0","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"international1"}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"0","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"0","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"0","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"0","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"hyphen","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"hyphen","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"hyphen","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"hyphen","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"equal_sign","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"equal_sign","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"equal_sign","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"equal_sign","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"international3","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"international3","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"international3","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"international3","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"close_bracket","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"close_bracket","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"close_bracket","modifiers":["control"]}],"type":"basic"},

    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"non_us_pound","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"keyboard_type_if","keyboard_types":["jis"]},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"non_us_pound","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"non_us_pound","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"backslash","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"backslash","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"backslash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"backslash","modifiers":["control"]}],"type":"basic"},


    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"slash","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"}],
      "from":{"key_code":"slash","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"slash","modifiers":["shift","control"]}],"type":"basic"},

    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"quote","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"quote","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"international1","modifiers":{"mandatory":["shift"],"optional":["caps_lock"]}},
      "to":[{"key_code":"quote","modifiers":["control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese$"}],"type":"input_source_if"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu","modifiers":["shift"]},
      {"key_code":"slash"},{"key_code":"japanese_kana"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese.Katakana$"}],"type":"input_source_if"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu","modifiers":["shift"]},
      {"key_code":"slash"},{"key_code":"japanese_kana","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese.HalfWidthKana$"}],"type":"input_source_if"}],
      "from":{"key_code":"international1","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu"},
      {"key_code":"slash"},{"key_code":"a","modifiers":["option","shift"]}],"type":"basic"},
    {"conditions":[{"type":"variable_if","name":"shift_state","value":2},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":0}},{"key_code":"semicolon","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock","shift"]}},
      "to":[{"key_code":"semicolon","modifiers":["shift","control"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese$"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu","modifiers":["shift"]},
      {"key_code":"slash"},{"key_code":"japanese_kana"}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese.Katakana$"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu","modifiers":["shift"]},
      {"key_code":"slash"},{"key_code":"japanese_kana","modifiers":["shift"]}],"type":"basic"},
    {"conditions":[{"input_sources":[{"input_mode_id":"^com.apple.inputmethod.Japanese.HalfWidthKana$"}],"type":"input_source_if"}],
      "from":{"key_code":"close_bracket","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"japanese_eisuu"},
      {"key_code":"slash"},{"key_code":"a","modifiers":["option","shift"]}],"type":"basic"}
]},{
  "description":"[シフト拡張] 無変換, 変換→(英数入力時)スペース(かな入力時)前置・連続シフト",
  "manipulators":[
    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"japanese_pc_nfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"japanese_pc_nfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"from":{"key_code":"japanese_pc_nfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"spacebar"}],"type":"basic"},

    {"conditions":[{"type":"variable_unless","name":"shift_state","value":0},
    {"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"japanese_pc_xfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"conditions":[{"input_sources":[{"language":"ja"}],"type":"input_source_if"},
    {"input_sources":[{"input_mode_id":"Roman$"}],"type":"input_source_unless"}],
      "from":{"key_code":"japanese_pc_xfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"set_variable":{"name":"shift_state","value":1}}],
      "to_if_alone":[{"set_variable":{"name":"shift_state","value":2},"halt":true}],
      "to_after_key_up":[{"set_variable":{"name":"shift_state","value":0}}],"type":"basic"},
    {"from":{"key_code":"japanese_pc_xfer","modifiers":{"optional":["caps_lock"]}},
      "to":[{"key_code":"spacebar"}],"type":"basic"}
]}]}
