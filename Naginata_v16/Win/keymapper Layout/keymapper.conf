# keymapper 薙刀式
#   2025年07月18日 @deepprog [keymapper 薙刀式の設定](https://qiita.com/deepprog/items/4d18a8cc4ab628ee9fb9)
#     / 2025 tor-nky

# 【資料】
# ----------------------------------------------------------------------
# 薙刀式配列v16（快速版）　　作　大岡俊彦
# 2025年4月18日[【薙刀式】v16快速版発表](http://oookaworks.seesaa.net/article/509198141.html#gsc.tab=0)
# ----------------------------------------------------------------------
# [keymapper](https://github.com/houmain/keymapper)
#   ポータブル版を使う場合、keymapper.exe と keymapperd.exe を一緒に実行する
# ----------------------------------------------------------------------

# @options no-update

@allow-unmapped-commands
@enforce-lowercase-commands
@forward-modifiers Shift Control Alt

[default]
  NaginataOff = Virtual
  IMEState = Virtual

  ime_complete = Slash{24ms} Enter Backspace # 汎用: Slash Enter Backspace   # 「・」が残る欠点あり
  ime_pause = ime_complete Lang2
  ime_resume = Lang1
  ime_on = !IMEState IMEState Lang1 # かなオン
  ime_off = !IMEState 16ms Lang2 # かなオフ

  # 編集モード
  enDF_Y = Home ^ # {Home}
  enDF_H = End ^  # {Enter}{End} ※英数専用
  enDF_N = End ^  # {End}
  enDF_U = Shift{End} Backspace ^ # +{End}{BS}
  enDF_J = ArrowUp   # {↑}
  enDF_M = ArrowDown # {↓}
  enDF_I = Meta{Slash} IMEState ^ # {vk1Csc079}
  enDF_K = Shift{ArrowUp}       # +{↑}
  enDF_Comma = Shift{ArrowDown} # +{↓}
  enDF_O = Delete # {Del}
  enDF_L = Shift{repeat[ArrowUp, 7]}        # +{↑ 7}
  enDF_Period = Shift{repeat[ArrowDown, 7]} # +{↓ 7}
  enDF_P = Shift{repeat[Escape, 2]} ^ # +{Esc 2}
  enDF_Semicolon = F7 ^ # ^i
  enDF_Slash = F6 ^     # ^u

  enJK_Q = Control{End} # ^{End}
  enJK_A = "……" ^ # ……{改行} ※英数専用
  enJK_Z = "――" ^ # ――{改行} ※英数専用
  enJK_W = "／" ^ # ／{改行} ※英数専用
  enJK_S = "『" ^ # 『{改行} ※英数専用
  enJK_X = "』" ^ # 』{改行} ※英数専用
  enJK_D = Shift{Slash} ^ # ？{改行} ※英数専用
  enJK_C = Shift{1} ^     # ！{改行} ※英数専用
  enJK_R = Control{S} ^ # ^s
  enJK_F = "「" ^ # 「{改行} ※英数専用
  enJK_V = "」" ^ # 」{改行} ※英数専用
  enJK_T = "・" ^ # ・ ※英数専用
  enJK_G = "(" ^  # ({改行} ※英数専用
  enJK_B = ")" ^  # ){改行} ※英数専用

  enCV_Y = Shift{Home} ^ # +{Home}
  enCV_H = Control{C} ^  # ^c
  enCV_N = Shift{End} ^  # +{End}
  enCV_U = Control{X} ^  # ^x
  enCV_J = ArrowLeft # {←}
  enCV_M = Shift{ArrowLeft} # +{←}
  enCV_I = Meta{Slash} IMEState ^ # {vk1Csc079}
  enCV_K = ArrowRight # {→}
  enCV_Comma = Shift{ArrowRight} # +{→}
  enCV_O = Control{V{135ms}} ^ # ^v
  enCV_L = Enter{24ms} Space Shift{Home} Control{X} Backspace ^ # {改行}{Space}+{Home}^x{BS}
  enCV_Period = Shift{repeat[ArrowLeft, 7]} # +{← 7}
  enCV_P = Control{Z} ^ # ^z
  enCV_Semicolon = Control{Y} ^ # ^y
  enCV_Slash = Shift{repeat[ArrowRight, 7]} # +{→ 7}

  enMComma_Q = "｜" ^ # ｜{改行} ※英数専用
  enMComma_A = "《" ^ # 《{改行} ※英数専用
  enMComma_Z = "》" ^ # 》{改行} ※英数専用
  enMComma_W = "　　　×　　　×　　　×" Enter ^ # 　　　×　　　×　　　×{改行 2} ※英数専用
  enMComma_S = "【" ^ # 【{改行} ※英数専用
  enMComma_X = "】" ^ # 】{改行} ※英数専用
  enMComma_E = Home ArrowRight End repeat[Delete, 2] ArrowLeft ^ # {Home}{→}{End}{Del 2}{←}
  enMComma_D = Home ArrowRight End repeat[Delete, 4] ArrowLeft ^ # {Home}{→}{End}{Del 4}{←}
  enMComma_C = "」" Enter ^ # 」{改行}{改行} ※英数専用
  enMComma_R = Home Enter{24ms} "　" ArrowLeft ^ # {Home}{改行}{Space 1}{←} ※英数専用
  enMComma_F = Home Enter{24ms} "　　　" ArrowLeft ^ # {Home}{改行}{Space 3}{←} ※英数専用
  enMComma_V = "」" Enter{40ms} "「" ^ # 」{改行}{改行}「{改行} ※英数専用
  enMComma_T = "〇" ^ # 〇{改行} ※英数専用
  enMComma_G = "　　　" ^ # {Space 3} ※英数専用
  enMComma_B = "」" Enter{40ms} "　" ^ # 」{改行}{改行}{Space} ※英数専用

  jpDF_Y = Home ^ # {Home}
  jpDF_H = ime_complete End ^ # {Enter}{End} ※かな専用
  jpDF_N = End ^ # {End}
  jpDF_U = Shift{End} Backspace ^ # +{End}{BS}
  jpDF_J = ArrowUp   # {↑}
  jpDF_M = ArrowDown # {↓}
  jpDF_I = Meta{Slash} ^ # {vk1Csc079}
  jpDF_K = Shift{ArrowUp} # +{↑}
  jpDF_Comma = Shift{ArrowDown} # +{↓}
  jpDF_O = Delete # {Del}
  jpDF_L =      Shift{repeat[ArrowUp, 7]}   # +{↑ 7}
  jpDF_Period = Shift{repeat[ArrowDown, 7]} # +{↓ 7}
  jpDF_P = Shift{repeat[Escape, 2]} ^ # +{Esc 2}
  jpDF_Semicolon = F7 ^ # ^i
  jpDF_Slash =     F6 ^ # ^u

  jpJK_Q = Control{End} # ^{End}
  jpJK_A = ime_pause "……" ime_resume ^ # ……{改行} ※かな専用
  jpJK_Z = "――" Enter ^ # ――{改行} ※かな専用
  jpJK_W = ime_complete Slash F9 Enter ^ # ／{改行} ※かな専用
  jpJK_S = "『" Enter ^ # 『{改行} ※かな専用
  jpJK_X = "』" Enter ^ # 』{改行} ※かな専用
  jpJK_D = Shift{Slash} Enter ^ # ？{改行} ※かな専用
  jpJK_C = Shift{1} Enter ^     # ！{改行} ※かな専用
  jpJK_R = Control{S} ^ # ^s
  jpJK_F = "[" Enter ^ # 「{改行} ※かな専用
  jpJK_V = "]" Enter ^ # 」{改行} ※かな専用
  jpJK_T = Slash ^ # ・ ※かな専用
  jpJK_G = "(" Enter ^ # ({改行} ※かな専用
  jpJK_B = ")" Enter ^ # ){改行} ※かな専用

  jpCV_Y = Shift{Home} ^ # +{Home}
  jpCV_H = Control{C} ^ # ^c
  jpCV_N = Shift{End} ^ # +{End}
  jpCV_U = Control{X} ^ # ^x
  jpCV_J = ArrowLeft # {←}
  jpCV_M = Shift{ArrowLeft} # +{←}
  jpCV_I = Meta{Slash} ^ # {vk1Csc079}
  jpCV_K = ArrowRight # {→}
  jpCV_Comma = Shift{ArrowRight} # +{→}
  jpCV_O = Control{V{135ms}} ^ # ^v
  jpCV_L = Enter{24ms} Space Shift{Home} Control{X} Backspace ^ # {改行}{Space}+{Home}^x{BS}
  jpCV_Period = Shift{repeat[ArrowLeft, 7]} # +{← 7}
  jpCV_P = Control{Z} ^ # ^z
  jpCV_Semicolon = Control{Y} ^ # ^y
  jpCV_Slash = Shift{repeat[ArrowRight, 7]} # +{→ 7}

  jpMComma_Q = "|" Enter ^ # ｜{改行} ※かな専用
  jpMComma_A = "《" Enter ^ # 《{改行} ※かな専用
  jpMComma_Z = "》" Enter ^ # 》{改行} ※かな専用
  jpMComma_W = ime_pause "　　　×　　　×　　　×" ime_resume Enter ^ # 　　　×　　　×　　　×{改行 2} ※かな専用
  jpMComma_S = "【" Enter ^ # 【{改行} ※かな専用
  jpMComma_X = "】" Enter ^ # 】{改行} ※かな専用
  jpMComma_E = Home ArrowRight End repeat[Delete, 2] ArrowLeft ^ # {Home}{→}{End}{Del 2}{←}
  jpMComma_D = Home ArrowRight End repeat[Delete, 4] ArrowLeft ^ # {Home}{→}{End}{Del 4}{←}
  jpMComma_C = "]" repeat[Enter, 2] ^ # 」{改行}{改行} ※かな専用
  jpMComma_R = Home Enter{24ms} repeat[Space, 1] ArrowLeft ^ # {Home}{改行}{Space 1}{←} ※かな専用
  jpMComma_F = Home Enter{24ms} repeat[Space, 3] ArrowLeft ^ # {Home}{改行}{Space 3}{←} ※かな専用
  jpMComma_V = "]" Enter Enter{48ms} "[" Enter ^ # 」{改行}{改行}「{改行} ※かな専用
  jpMComma_T = "〇" Enter ^ # 〇{改行} ※かな専用
  jpMComma_G = repeat[Space, 3] ^ # {Space 3} ※かな専用
  jpMComma_B = "]" Enter Enter{48ms} Space ^ # 」{改行}{改行}{Space} ※かな専用

# IME on アプリ定義
[system="Windows" title = "iText"]
  ContextActive >> ime_on

# IME off アプリ定義
[system="Windows" class = "Notepad"]
  ContextActive >> ime_off

# =============================================
# 英数モード
# =============================================
[modifier = "!NaginataOff !IMEState !Shift !Meta !Control !Alt"]

#　キーボード側のSandSを使う場合は
#　コメントアウトして無効化してください
# SandS
  Space{Any} >> Shift{Any}

# ********** 3キー同時 **********
# 編集モード
  (D F){Y} >> enDF_Y
    (F Y)(D) >> enDF_Y
    (Y D){F} >> enDF_Y
  (D F){U} >> enDF_U
    (F U){D} >> enDF_U
    (U D){F} >> enDF_U
  (D F){I} >> enDF_I
    (F I){D} >> enDF_I
    (I D){F} >> enDF_I
  (D F){O} >> enDF_O
    (F O){D} >> enDF_O
    (O D){F} >> enDF_O
  (D F){P} >> enDF_P
    (F P){D} >> enDF_P
    (P D){F} >> enDF_P
  (D F){H} >> enDF_H
    (F H){D} >> enDF_H
    (H D){F} >> enDF_H
  (D F){J} >> enDF_J
    (F J){D} >> enDF_J
    (J D){F} >> enDF_J
  (D F){K} >> enDF_K
    (F K){D} >> enDF_K
    (K D){F} >> enDF_K
  (D F){L} >> enDF_L
    (F L){D} >> enDF_L
    (L D){F} >> enDF_L
  (D F){Semicolon} >> enDF_Semicolon
    (F Semicolon){D} >> enDF_Semicolon
    (Semicolon D){F} >> enDF_Semicolon
  (D F){N} >> enDF_N
    (F N){D} >> enDF_N
    (N D){F} >> enDF_N
  (D F){M} >> enDF_M
    (F M){D} >> enDF_M
    (M D){F} >> enDF_M
  (D F){Comma} >> enDF_Comma
    (F Comma){D} >> enDF_Comma
    (Comma D){F} >> enDF_Comma
  (D F){Period} >> enDF_Period
    (F Period){D} >> enDF_Period
    (Period D){F} >> enDF_Period
  (D F){Slash} >> enDF_Slash
    (F Slash){D} >> enDF_Slash
    (Slash D){F} >> enDF_Slash

  (J K){Q} >> enJK_Q
    (K Q){J} >> enJK_Q
    (Q J){K} >> enJK_Q
  (J K){W} >> enJK_W
    (K W){J} >> enJK_W
    (W J){K} >> enJK_W
  (J K){R} >> enJK_R
    (K R){J} >> enJK_R
    (R J){K} >> enJK_R
  (J K){T} >> enJK_T
    (K T){J} >> enJK_T
    (T J){K} >> enJK_T
  (J K){A} >> enJK_A
    (K A){J} >> enJK_A
    (A J){K} >> enJK_A
  (J K){S} >> enJK_S
    (K S){J} >> enJK_S
    (S J){K} >> enJK_S
  (J K){D} >> enJK_D
    (K D){J} >> enJK_D
    (D J){K} >> enJK_D
  (J K){F} >> enJK_F
    (K F){J} >> enJK_F
    (F J){K} >> enJK_F
  (J K){G} >> enJK_G
    (K G){J} >> enJK_G
    (G J){K} >> enJK_G
  (J K){Z} >> enJK_Z
    (K Z){J} >> enJK_Z
    (Z J){K} >> enJK_Z
  (J K){X} >> enJK_X
    (K X){J} >> enJK_X
    (X J){K} >> enJK_X
  (J K){C} >> enJK_C
    (K C){J} >> enJK_C
    (C J){K} >> enJK_C
  (J K){V} >> enJK_V
    (K V){J} >> enJK_V
    (V J){K} >> enJK_V
  (J K){B} >> enJK_B
    (K B){J} >> enJK_B
    (B J){K} >> enJK_B

  (C V){Y} >> enCV_Y
    (V Y){C} >> enCV_Y
    (Y C){V} >> enCV_Y
  (C V){U} >> enCV_U
    (V U){C} >> enCV_U
    (U C){V} >> enCV_U
  (C V){I} >> enCV_I
    (V I){C} >> enCV_I
    (I C){V} >> enCV_I
  (C V){O} >> enCV_O
    (V O){C} >> enCV_O
    (O C){V} >> enCV_O
  (C V){P} >> enCV_P
    (V P){C} >> enCV_P
    (P C){V} >> enCV_P
  (C V){H} >> enCV_H
    (V H){C} >> enCV_H
    (H C){V} >> enCV_H
  (C V){J} >> enCV_J
    (V J){C} >> enCV_J
    (J C){V} >> enCV_J
  (C V){K} >> enCV_K
    (V K){C} >> enCV_K
    (K C){V} >> enCV_K
  (C V){L} >> enCV_L
    (V L){C} >> enCV_L
    (L C){V} >> enCV_L
  (C V){Semicolon} >> enCV_Semicolon
    (V Semicolon){C} >> enCV_Semicolon
    (Semicolon C){V} >> enCV_Semicolon
  (C V){N} >> enCV_N
    (V N){C} >> enCV_N
    (N C){V} >> enCV_N
  (C V){M} >> enCV_M
    (V M){C} >> enCV_M
    (M C){V} >> enCV_M
  (C V){Comma} >> enCV_Comma
    (V Comma){C} >> enCV_Comma
    (Comma C){V} >> enCV_Comma
  (C V){Period} >> enCV_Period
    (V Period){C} >> enCV_Period
    (Period C){V} >> enCV_Period
  (C V){Slash} >> enCV_Slash
    (V Slash){C} >> enCV_Slash
    (Slash C){V} >> enCV_Slash

  (M Comma){Q} >> enMComma_Q
    (Comma Q){M} >> enMComma_Q
    (Q M){Comma} >> enMComma_Q
  (M Comma){W} >> enMComma_W
    (Comma W){M} >> enMComma_W
    (W M){Comma} >> enMComma_W
  (M Comma){E} >> enMComma_E
    (Comma E){M} >> enMComma_E
    (E M){Comma} >> enMComma_E
  (M Comma){R} >> enMComma_R
    (Comma R){M} >> enMComma_R
    (R M){Comma} >> enMComma_R
  (M Comma){T} >> enMComma_T
    (Comma T){M} >> enMComma_T
    (T M){Comma} >> enMComma_T
  (M Comma){A} >> enMComma_A
    (Comma A){M} >> enMComma_A
    (A M){Comma} >> enMComma_A
  (M Comma){S} >> enMComma_S
    (Comma S){M} >> enMComma_S
    (S M){Comma} >> enMComma_S
  (M Comma){D} >> enMComma_D
    (Comma D){M} >> enMComma_D
    (D M){Comma} >> enMComma_D
  (M Comma){F} >> enMComma_F
    (Comma F){M} >> enMComma_F
    (F M){Comma} >> enMComma_F
  (M Comma){G} >> enMComma_G
    (Comma G){M} >> enMComma_G
    (G M){Comma} >> enMComma_G
  (M Comma){Z} >> enMComma_Z
    (Comma Z){M} >> enMComma_Z
    (Z M){Comma} >> enMComma_Z
  (M Comma){X} >> enMComma_X
    (Comma X){M} >> enMComma_X
    (X M){Comma} >> enMComma_X
  (M Comma){C} >> enMComma_C
    (Comma C){M} >> enMComma_C
    (C M){Comma} >> enMComma_C
  (M Comma){V} >> enMComma_V
    (Comma V){M} >> enMComma_V
    (V M){Comma} >> enMComma_V
  (M Comma){B} >> enMComma_B
    (Comma B){M} >> enMComma_B
    (B M){Comma} >> enMComma_B

# ********** 2キー同時 **********
# 機能部分
  (H J) >> ime_on ^
  (F G) >> ime_off ^
  (V M) >> Enter ^

# =============================================
# かなモード
# =============================================
[modifier = "!NaginataOff IMEState !Meta !Control !Alt"]

# 左右シフト+アルファベット で英数モードに
  Shift{A} >> Shift{A} !Shift Enter ime_off ^
  Shift{B} >> Shift{B} !Shift Enter ime_off ^
  Shift{C} >> Shift{C} !Shift Enter ime_off ^
  Shift{D} >> Shift{D} !Shift Enter ime_off ^
  Shift{E} >> Shift{E} !Shift Enter ime_off ^
  Shift{F} >> Shift{F} !Shift Enter ime_off ^
  Shift{G} >> Shift{G} !Shift Enter ime_off ^
  Shift{H} >> Shift{H} !Shift Enter ime_off ^
  Shift{I} >> Shift{I} !Shift Enter ime_off ^
  Shift{J} >> Shift{J} !Shift Enter ime_off ^
  Shift{K} >> Shift{K} !Shift Enter ime_off ^
  Shift{L} >> Shift{L} !Shift Enter ime_off ^
  Shift{M} >> Shift{M} !Shift Enter ime_off ^
  Shift{N} >> Shift{N} !Shift Enter ime_off ^
  Shift{O} >> Shift{O} !Shift Enter ime_off ^
  Shift{P} >> Shift{P} !Shift Enter ime_off ^
  Shift{Q} >> Shift{Q} !Shift Enter ime_off ^
  Shift{R} >> Shift{R} !Shift Enter ime_off ^
  Shift{S} >> Shift{S} !Shift Enter ime_off ^
  Shift{T} >> Shift{T} !Shift Enter ime_off ^
  Shift{U} >> Shift{U} !Shift Enter ime_off ^
  Shift{V} >> Shift{V} !Shift Enter ime_off ^
  Shift{W} >> Shift{W} !Shift Enter ime_off ^
  Shift{X} >> Shift{X} !Shift Enter ime_off ^
  Shift{Y} >> Shift{Y} !Shift Enter ime_off ^
  Shift{Z} >> Shift{Z} !Shift Enter ime_off ^
# 左右シフト+アルファベット以外
  Shift{Semicolon}  >> Shift{Semicolon}
  Shift{Comma}      >> Shift{Comma}
  Shift{Period}     >> Shift{Period}
  Shift{Slash}      >> Shift{Slash}

# ********** センターシフト **********
  Space{Q} >>
  Space{W} >> (N U) ^ # ぬ
  Space{E} >> (R I) ^ # り
  Space{R} >> (M E) ^ # め
  Space{T} >> Shift{ArrowLeft}  # +{←}
  Space{Y} >> Shift{ArrowRight} # +{→}
  Space{U} >> (S A) ^ # さ
  Space{I} >> (Y O) ^ # よ
  Space{O} >> E ^ # え
  Space{P} >> (Y U) ^ # ゆ
  Space{A} >> (S E) ^ # せ
  Space{S} >> (M I) ^ # み
  Space{D} >> (N I) ^ # に
  Space{F} >> (M A) ^ # ま
  Space{G} >> (T I) ^ # ち
  Space{H} >> (Y A) ^ # や
  Space{J} >> (N O) ^ # の
  Space{K} >> (M O) ^ # も
  Space{L} >> (T U) ^ # つ
  Space{Semicolon} >> (H U) ^ # ふ
  Space{Z} >> (H O) ^ # ほ
  Space{X} >> (H I) ^ # ひ
  Space{C} >> (W O) ^ # を
  Space{V} >> (Comma Enter) ^ # 、
  Space{B} >> (M U) ^ # む
  Space{N} >> O ^ # お
  Space{M} >> (Period Enter) ^ # 。
  Space{Comma} >> (N E) ^  # ね
  Space{Period} >> (W A) ^ # わ
  Space{Slash} >> (R E) ^  # れ

# ********** 3キー同時 **********
# 拗音、外来音
  # ぎゃ
    (J H){W} >> (G Y A) ^
    (H W){J} >> (G Y A) ^
    (W J){H} >> (G Y A) ^
  # じゃ
    (J H){R} >> (J A) ^
    (H R){J} >> (J A) ^
    (R J){H} >> (J A) ^
  # ぢゃ
    (J H){G} >> (D Y A) ^
    (H G){J} >> (D Y A) ^
    (G J){H} >> (D Y A) ^
  # びゃ
    (J H){X} >> (B Y A) ^
    (H X){J} >> (B Y A) ^
    (X J){H} >> (B Y A) ^
  # ぎゅ
    (J P){W} >> (G Y U) ^
    (P W){J} >> (G Y U) ^
    (W J){P} >> (G Y U) ^
  # じゅ
    (J P){R} >> (J U) ^
    (P R){J} >> (J U) ^
    (R J){P} >> (J U) ^
  # ぢゅ
    (J P){G} >> (D Y U) ^
    (P G){J} >> (D Y U) ^
    (G J){P} >> (D Y U) ^
  # びゅ
    (J P){X} >> (B Y U) ^
    (P X){J} >> (B Y U) ^
    (X J){P} >> (B Y U) ^
  # ぎょ
    (J I){W} >> (G Y O) ^
    (I W){J} >> (G Y O) ^
    (W J){I} >> (G Y O) ^
  # じょ
    (J I){R} >> (J O) ^
    (I R){J} >> (J O) ^
    (R J){I} >> (J O) ^
  # ぢょ
    (J I){G} >> (D Y O) ^
    (I G){J} >> (D Y O) ^
    (G J){I} >> (D Y O) ^
  # びょ
    (J I){X} >> (B Y O) ^
    (I X){J} >> (B Y O) ^
    (X J){I} >> (B Y O) ^
  # ぴょ
    (M X){I} >> (P Y O) ^
    (X I){M} >> (P Y O) ^
    (I M){X} >> (P Y O) ^
  # ぴゅ
    (M X){P} >> (P Y U) ^
    (X P){M} >> (P Y U) ^
    (P M){X} >> (P Y U) ^
  # ぴゃ
    (M X){H} >> (P Y A) ^
    (X H){M} >> (P Y A) ^
    (H M){X} >> (P Y A) ^
  # てゅ
    (M E){P} >> (T H U) ^
    (E P){M} >> (T H U) ^
    (P M){E} >> (T H U) ^
  # てぃ
    (M E){K} >> (T H I) ^
    (E K){M} >> (T H I) ^
    (K M){E} >> (T H I) ^
  # でゅ
    (J E){P} >> (D H U) ^
    (E P){J} >> (D H U) ^
    (P J){E} >> (D H U) ^
  # でぃ
    (J E){K} >> (D H I) ^
    (E K){J} >> (D H I) ^
    (K J){E} >> (D H I) ^
  # とぅ
    (M D){L} >> (T W U) ^
    (D L){M} >> (T W U) ^
    (L M){D} >> (T W U) ^
  # どぅ
    (J D){L} >> (D W U) ^
    (D L){J} >> (D W U) ^
    (L J){D} >> (D W U) ^
  # しぇ
    (M R){O} >> (S Y E) ^
    (R O){M} >> (S Y E) ^
    (O M){R} >> (S Y E) ^
  # ちぇ
    (M G){O} >> (T Y E) ^
    (G O){M} >> (T Y E) ^
    (O M){G} >> (T Y E) ^
  # じぇ
    (J R){O} >> (J E) ^
    (R O){J} >> (J E) ^
    (O J){R} >> (J E) ^
  # ぢぇ
    (J G){O} >> (D Y E) ^
    (G O){J} >> (D Y E) ^
    (O J){G} >> (D Y E) ^
  # ふぇ
    (V Semicolon){O} >> (F E) ^
    (Semicolon O){V} >> (F E) ^
    (O V){Semicolon} >> (F E) ^
  # ふゅ
    (V Semicolon){P} >> (F Y U) ^
    (Semicolon P){V} >> (F Y U) ^
    (P V){Semicolon} >> (F Y U) ^
  # ふぁ
    (V Semicolon){J} >> (F A) ^
    (Semicolon J){V} >> (F A) ^
    (J V){Semicolon} >> (F A) ^
  # ふぃ
    (V Semicolon){K} >> (F I) ^
    (Semicolon K){V} >> (F I) ^
    (K V){Semicolon} >> (F I) ^
  # ふぉ
    (V Semicolon){N} >> (F O) ^
    (Semicolon N){V} >> (F O) ^
    (N V){Semicolon} >> (F O) ^
  # ヴぇ
    (F L){O} >> (V E) ^
    (L O){F} >> (V E) ^
    (O F){L} >> (V E) ^
  # ヴゅ
    (F L){P} >> (V Y U) ^
    (L P){F} >> (V Y U) ^
    (P F){L} >> (V Y U) ^
  # ヴぁ
    (F L){J} >> (V A) ^
    (L J){F} >> (V A) ^
    (J F){L} >> (V A) ^
  # ヴぃ
    (F L){K} >> (V I) ^
    (L K){F} >> (V I) ^
    (K F){L} >> (V I) ^
  # ヴ
    (F L){Semicolon} >> (V U) ^
    (L Semicolon){F} >> (V U) ^
    (Semicolon F){L} >> (V U) ^
  # ヴぉ
    (F L){N} >> (V O) ^
    (L N){F} >> (V O) ^
    (N F){L} >> (V O) ^
  # うぇ
    (V L){O} >> (W E) ^
    (L O){V} >> (W E) ^
    (O V){L} >> (W E) ^
  # うぃ
    (V L){K} >> (W I) ^
    (L K){V} >> (W I) ^
    (K V){L} >> (W I) ^
  # うぉ
    (V L){N} >> (W H O) ^
    (L N){V} >> (W H O) ^
    (N V){L} >> (W H O) ^
  # いぇ
    (V K){O} >> (Y E) ^
    (K O){V} >> (Y E) ^
    (O V){K} >> (Y E) ^
  # つぁ
    (V L){J} >> (T S A) ^
    (L J){V} >> (T S A) ^
    (J V){L} >> (T S A) ^
  # くぇ
    (V H){O} >> (Q E) ^
    (H O){V} >> (Q E) ^
    (O V){H} >> (Q E) ^
  # くぁ
    (V H){J} >> (Q A) ^
    (H J){V} >> (Q A) ^
    (J V){H} >> (Q A) ^
  # くぃ
    (V H){K} >> (Q I) ^
    (H K){V} >> (Q I) ^
    (K V){H} >> (Q I) ^
  # くぉ
    (V H){N} >> (Q O) ^
    (H N){V} >> (Q O) ^
    (N V){H} >> (Q O) ^
  # くゎ
    (V H){Period} >> (K U X W A) ^
    (H Period){V} >> (K U X W A) ^
    (Period V){H} >> (K U X W A) ^
  # ぐぇ
    (F H){O} >> (G W E) ^
    (H O){F} >> (G W E) ^
    (O F){H} >> (G W E) ^
  # ぐぁ
    (F H){J} >> (G W A) ^
    (H J){F} >> (G W A) ^
    (J F){H} >> (G W A) ^
  # ぐぃ
    (F H){K} >> (G W I) ^
    (H K){F} >> (G W I) ^
    (K F){H} >> (G W I) ^
  # ぐぉ
    (F H){N} >> (G W O) ^
    (H N){F} >> (G W O) ^
    (N F){H} >> (G W O) ^
  # ぐゎ
    (F H){Period} >> (G U X W A) ^
    (H Period){F} >> (G U X W A) ^
    (Period F){H} >> (G U X W A) ^

# 編集モード
  (D F){Y} >> jpDF_Y
    (F Y)(D) >> jpDF_Y
    (Y D){F} >> jpDF_Y
  (D F){U} >> jpDF_U
    (F U){D} >> jpDF_U
    (U D){F} >> jpDF_U
  (D F){I} >> jpDF_I
    (F I){D} >> jpDF_I
    (I D){F} >> jpDF_I
  (D F){O} >> jpDF_O
    (F O){D} >> jpDF_O
    (O D){F} >> jpDF_O
  (D F){P} >> jpDF_P
    (F P){D} >> jpDF_P
    (P D){F} >> jpDF_P
  (D F){H} >> jpDF_H
    (F H){D} >> jpDF_H
    (H D){F} >> jpDF_H
  (D F){J} >> jpDF_J
    (F J){D} >> jpDF_J
    (J D){F} >> jpDF_J
  (D F){K} >> jpDF_K
    (F K){D} >> jpDF_K
    (K D){F} >> jpDF_K
  (D F){L} >> jpDF_L
    (F L){D} >> jpDF_L
    (L D){F} >> jpDF_L
  (D F){Semicolon} >> jpDF_Semicolon
    (F Semicolon){D} >> jpDF_Semicolon
    (Semicolon D){F} >> jpDF_Semicolon
  (D F){N} >> jpDF_N
    (F N){D} >> jpDF_N
    (N D){F} >> jpDF_N
  (D F){M} >> jpDF_M
    (F M){D} >> jpDF_M
    (M D){F} >> jpDF_M
  (D F){Comma} >> jpDF_Comma
    (F Comma){D} >> jpDF_Comma
    (Comma D){F} >> jpDF_Comma
  (D F){Period} >> jpDF_Period
    (F Period){D} >> jpDF_Period
    (Period D){F} >> jpDF_Period
  (D F){Slash} >> jpDF_Slash
    (F Slash){D} >> jpDF_Slash
    (Slash D){F} >> jpDF_Slash

  (J K){Q} >> jpJK_Q
    (K Q){J} >> jpJK_Q
    (Q J){K} >> jpJK_Q
  (J K){W} >> jpJK_W
    (K W){J} >> jpJK_W
    (W J){K} >> jpJK_W
  (J K){R} >> jpJK_R
    (K R){J} >> jpJK_R
    (R J){K} >> jpJK_R
  (J K){T} >> jpJK_T
    (K T){J} >> jpJK_T
    (T J){K} >> jpJK_T
  (J K){A} >> jpJK_A
    (K A){J} >> jpJK_A
    (A J){K} >> jpJK_A
  (J K){S} >> jpJK_S
    (K S){J} >> jpJK_S
    (S J){K} >> jpJK_S
  (J K){D} >> jpJK_D
    (K D){J} >> jpJK_D
    (D J){K} >> jpJK_D
  (J K){F} >> jpJK_F
    (K F){J} >> jpJK_F
    (F J){K} >> jpJK_F
  (J K){G} >> jpJK_G
    (K G){J} >> jpJK_G
    (G J){K} >> jpJK_G
  (J K){Z} >> jpJK_Z
    (K Z){J} >> jpJK_Z
    (Z J){K} >> jpJK_Z
  (J K){X} >> jpJK_X
    (K X){J} >> jpJK_X
    (X J){K} >> jpJK_X
  (J K){C} >> jpJK_C
    (K C){J} >> jpJK_C
    (C J){K} >> jpJK_C
  (J K){V} >> jpJK_V
    (K V){J} >> jpJK_V
    (V J){K} >> jpJK_V
  (J K){B} >> jpJK_B
    (K B){J} >> jpJK_B
    (B J){K} >> jpJK_B

  (C V){Y} >> jpCV_Y
    (V Y){C} >> jpCV_Y
    (Y C){V} >> jpCV_Y
  (C V){U} >> jpCV_U
    (V U){C} >> jpCV_U
    (U C){V} >> jpCV_U
  (C V){I} >> jpCV_I
    (V I){C} >> jpCV_I
    (I C){V} >> jpCV_I
  (C V){O} >> jpCV_O
    (V O){C} >> jpCV_O
    (O C){V} >> jpCV_O
  (C V){P} >> jpCV_P
    (V P){C} >> jpCV_P
    (P C){V} >> jpCV_P
  (C V){H} >> jpCV_H
    (V H){C} >> jpCV_H
    (H C){V} >> jpCV_H
  (C V){J} >> jpCV_J
    (V J){C} >> jpCV_J
    (J C){V} >> jpCV_J
  (C V){K} >> jpCV_K
    (V K){C} >> jpCV_K
    (K C){V} >> jpCV_K
  (C V){L} >> jpCV_L
    (V L){C} >> jpCV_L
    (L C){V} >> jpCV_L
  (C V){Semicolon} >> jpCV_Semicolon
    (V Semicolon){C} >> jpCV_Semicolon
    (Semicolon C){V} >> jpCV_Semicolon
  (C V){N} >> jpCV_N
    (V N){C} >> jpCV_N
    (N C){V} >> jpCV_N
  (C V){M} >> jpCV_M
    (V M){C} >> jpCV_M
    (M C){V} >> jpCV_M
  (C V){Comma} >> jpCV_Comma
    (V Comma){C} >> jpCV_Comma
    (Comma C){V} >> jpCV_Comma
  (C V){Period} >> jpCV_Period
    (V Period){C} >> jpCV_Period
    (Period C){V} >> jpCV_Period
  (C V){Slash} >> jpCV_Slash
    (V Slash){C} >> jpCV_Slash
    (Slash C){V} >> jpCV_Slash

  (M Comma){Q} >> jpMComma_Q
    (Comma Q){M} >> jpMComma_Q
    (Q M){Comma} >> jpMComma_Q
  (M Comma){W} >> jpMComma_W
    (Comma W){M} >> jpMComma_W
    (W M){Comma} >> jpMComma_W
  (M Comma){E} >> jpMComma_E
    (Comma E){M} >> jpMComma_E
    (E M){Comma} >> jpMComma_E
  (M Comma){R} >> jpMComma_R
    (Comma R){M} >> jpMComma_R
    (R M){Comma} >> jpMComma_R
  (M Comma){A} >> jpMComma_A
    (Comma A){M} >> jpMComma_A
    (A M){Comma} >> jpMComma_A
  (M Comma){S} >> jpMComma_S
    (Comma S){M} >> jpMComma_S
    (S M){Comma} >> jpMComma_S
  (M Comma){D} >> jpMComma_D
    (Comma D){M} >> jpMComma_D
    (D M){Comma} >> jpMComma_D
  (M Comma){F} >> jpMComma_F
    (Comma F){M} >> jpMComma_F
    (F M){Comma} >> jpMComma_F
  (M Comma){G} >> jpMComma_G
    (Comma G){M} >> jpMComma_G
    (G M){Comma} >> jpMComma_G
  (M Comma){Z} >> jpMComma_Z
    (Comma Z){M} >> jpMComma_Z
    (Z M){Comma} >> jpMComma_Z
  (M Comma){X} >> jpMComma_X
    (Comma X){M} >> jpMComma_X
    (X M){Comma} >> jpMComma_X
  (M Comma){C} >> jpMComma_C
    (Comma C){M} >> jpMComma_C
    (C M){Comma} >> jpMComma_C
  (M Comma){V} >> jpMComma_V
    (Comma V){M} >> jpMComma_V
    (V M){Comma} >> jpMComma_V
  (M Comma){T} >> jpMComma_T
    (Comma T){M} >> jpMComma_T
    (T M){Comma} >> jpMComma_T
  (M Comma){B} >> jpMComma_B
    (Comma B){M} >> jpMComma_B
    (B M){Comma} >> jpMComma_B

# 固有名詞ショートカット  ※ U+I または E+R を先に押さなければなりません
  # (U I){Q} >> ime_pause "" ime_resume ^
  # (U I){A} >> ime_pause "" ime_resume ^
  # (U I){Z} >> ime_pause "" ime_resume ^
  # (U I){W} >> ime_pause "天空のファルコーン" ime_resume ^
  # (U I){S} >> ime_pause "ミツルギ" ime_resume ^
  # (U I){X} >> ime_pause "" ime_resume ^
  # (U I){E} >> ime_pause "天ファル" ime_resume ^
  # (U I){D} >> ime_pause "韮澤" ime_resume ^
  # (U I){C} >> ime_pause "戸田" ime_resume ^
  # (U I){R} >> ime_pause "神山" ime_resume ^
  # (U I){F} >> ime_pause "上山" ime_resume ^
  # (U I){V} >> ime_pause "" ime_resume ^
  # (U I){T} >> ime_pause "" ime_resume ^
  # (U I){G} >> ime_pause "チャンプ" ime_resume ^
  # (U I){B} >> ime_pause "" ime_resume ^
  # (E R){Y} >> ime_pause "" ime_resume ^
  # (E R){H} >> ime_pause "山根" ime_resume ^
  # (E R){N} >> ime_pause "" ime_resume ^
  # (E R){U} >> ime_pause "" ime_resume ^
  # (E R){J} >> ime_pause "" ime_resume ^
  # (E R){M} >> ime_pause "" ime_resume ^
  # (E R){I} >> ime_pause "" ime_resume ^
  # (E R){K} >> ime_pause "" ime_resume ^
  # (E R){Comma} >> ime_pause "" ime_resume ^
  # (E R){O} >> ime_pause "えりりん" ime_resume ^
  # (E R){L} >> ime_pause "" ime_resume ^
  # (E R){Period} >> ime_pause "渡辺" ime_resume ^
  # (E R){P} >> ime_pause "" ime_resume ^
  # (E R){Semicolon} >> ime_pause "深町" ime_resume ^
  # (E R){Slash} >> ime_pause "" ime_resume ^

# ********** 2キー同時 **********
# 濁音
  (F U) >> (Z A) ^ # ざ
  (F O) >> (Z U) ^ # ず
  (F P) >> (B E) ^ # べ
  (F H) >> (G U) ^ # ぐ
  (F L) >> (D U) ^ # づ
  (F Semicolon) >> (B U) ^ # ぶ
  (F N) >> (D A) ^ # だ
  (J W) >> (G I) ^ # ぎ
  (J E) >> (D E) ^ # で
  (J R) >> (Z I) ^ # じ
  (J A) >> (Z E) ^ # ぜ
  (J S) >> (G E) ^ # げ
  (J D) >> (D O) ^ # ど
  (J F) >> (G A) ^ # が
  (J G) >> (D I) ^ # ぢ
  (J Z) >> (B O) ^ # ぼ
  (J X) >> (B I) ^ # び
  (J C) >> (B A) ^ # ば
  (J V) >> (G O) ^ # ご
  (J B) >> (Z O) ^ # ぞ

# 半濁音
  (V P) >> (P E) ^ # ぺ
  (V Semicolon) >> (P U) ^ # ぷ
  (M Z) >> (P O) ^ # ぽ
  (M X) >> (P I) ^ # ぴ
  (M C) >> (P A) ^ # ぱ

# 小書き
  (Q I) >> (X Y O) ^ # ょ
  (Q O) >> (X E) ^   # ぇ
  (Q P) >> (X Y U) ^ # ゅ
  (Q S) >> (X K E) ^ # ヶ
  (Q F) >> (X K A) ^ # ヵ
  (Q H) >> (X Y A) ^ # ゃ
  (Q J) >> (X A) ^   # ぁ
  (Q K) >> (X I) ^   # ぃ
  (Q L) >> (X U) ^   # ぅ
  (Q N) >> (X O) ^   # ぉ
  (Q Period) >> (X W A) ^ # ゎ

# 拗音、外来音
  (H W) >> (K Y A) ^ # きゃ
  (H E) >> (R Y A) ^ # りゃ
  (H R) >> (S Y A) ^ # しゃ
  (H S) >> (M Y A) ^ # みゃ
  (H D) >> (N Y A) ^ # にゃ
  (H G) >> (T Y A) ^ # ちゃ
  (H X) >> (H Y A) ^ # ひゃ
  (P W) >> (K Y U) ^ # きゅ
  (P E) >> (R Y U) ^ # りゅ
  (P R) >> (S Y U) ^ # しゅ
  (P S) >> (M Y U) ^ # みゅ
  (P D) >> (N Y U) ^ # にゅ
  (P G) >> (T Y U) ^ # ちゅ
  (P X) >> (H Y U) ^ # ひゅ
  (I W) >> (K Y O) ^ # きょ
  (I E) >> (R Y O) ^ # りょ
  (I R) >> (S Y O) ^ # しょ
  (I S) >> (M Y O) ^ # みょ
  (I D) >> (N Y O) ^ # にょ
  (I G) >> (T Y O) ^ # ちょ
  (I X) >> (H Y O) ^ # ひょ

# 機能部分
  (H J) >> ime_on ^
  (F G) >> ime_off ^
  (V M) >> Enter ^

# ********** 単打 **********
  Q >>
  W >>  (K I) ^ # き
  E >>  (T E) ^ # て
  R >>  (S I) ^ # し
  T >>  ArrowLeft  # {←}
  Y >>  ArrowRight # {→}
  U >>  Backspace
  I >>  (R U) ^ # る
  O >>  (S U) ^ # す
  P >>  (H E) ^ # へ
  A >>  (R O) ^ # ろ
  S >>  (K E) ^ # け
  D >>  (T O) ^ # と
  F >>  (K A) ^ # か
  G >>  (X T U) ^ # っ
  H >>  (K U) ^ # く
  J >>  A ^ # あ
  K >>  I ^ # い
  L >>  U ^ # う
  Semicolon >> Minus ^ # ー
  Z >>  (H O) ^ # ほ
  X >>  (H I) ^ # ひ
  C >>  (H A) ^ # は
  V >>  (K O) ^ # こ
  B >>  (S O) ^ # そ
  N >>  (T A) ^ # た
  M >>  (N A) ^ # な
  Comma >>  N N ^ # ん
  Period >> (R A) ^ # ら
  Slash >>  (R E) ^ # れ

[default]
  (Control Shift){0} >> !NaginataOff NaginataOff ^ # 薙刀式オフ
  (Control Shift){1} >> !NaginataOff ^ # 薙刀式再開
